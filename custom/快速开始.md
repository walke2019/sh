# 自定义工具箱 - 快速开始

## 🚀 立即使用

### 方法一：直接运行（推荐）

```bash
# 在项目根目录下执行
bash custom/custom_main.sh
```

### 方法二：创建快捷命令

```bash
# 1. 运行集成脚本
bash custom/integrate.sh

# 2. 使配置生效
source ~/.bashrc

# 3. 使用快捷命令启动
ctool
```

### 方法三：赋予执行权限

```bash
# 1. 赋予执行权限
chmod +x custom/custom_main.sh

# 2. 直接运行
./custom/custom_main.sh
```

---

## 📝 添加你的第一个工具

### 步骤 1：创建工具脚本

```bash
# 创建新工具文件
nano custom/tools/my_first_tool.sh
```

### 步骤 2：编写工具代码

```bash
#!/bin/bash
# 我的第一个自定义工具

echo "================================"
echo "    我的第一个自定义工具"
echo "================================"
echo ""

# 在这里添加你的功能代码
echo "Hello, Custom Toolbox!"
echo ""

# 示例：显示当前时间
echo "当前时间：$(date)"
echo ""

read -p "按回车键返回..."
```

### 步骤 3：赋予执行权限

```bash
chmod +x custom/tools/my_first_tool.sh
```

### 步骤 4：添加到菜单

编辑 `custom/custom_main.sh`，在菜单显示部分添加：

```bash
echo -e "${gl_kjlan}5.   ${gl_bai}我的第一个工具"
```

在 case 语句中添加：

```bash
5)
    if [ -f "${TOOLS_DIR}/my_first_tool.sh" ]; then
        bash "${TOOLS_DIR}/my_first_tool.sh"
    else
        echo -e "${gl_hong}工具脚本不存在！${gl_bai}"
        sleep 2
    fi
    ;;
```

### 步骤 5：测试运行

```bash
bash custom/custom_main.sh
```

---

## 🎯 常见使用场景

### 场景 1：系统管理工具

创建一个系统信息查看工具：

```bash
#!/bin/bash
# 系统信息查看工具

echo "系统信息概览"
echo "================================"
echo "主机名：$(hostname)"
echo "操作系统：$(cat /etc/os-release | grep PRETTY_NAME | cut -d'"' -f2)"
echo "内核版本：$(uname -r)"
echo "CPU 架构：$(uname -m)"
echo "CPU 核心数：$(nproc)"
echo "内存使用："
free -h
echo ""
echo "磁盘使用："
df -h
echo ""
read -p "按回车键返回..."
```

### 场景 2：Docker 管理工具

创建一个 Docker 容器快速管理工具：

```bash
#!/bin/bash
# Docker 容器管理工具

echo "Docker 容器状态"
echo "================================"
docker ps -a --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
echo ""
read -p "按回车键返回..."
```

### 场景 3：日志查看工具

创建一个系统日志快速查看工具：

```bash
#!/bin/bash
# 系统日志查看工具

echo "最近的系统日志"
echo "================================"
journalctl -n 50 --no-pager
echo ""
read -p "按回车键返回..."
```

---

## 🔧 配置管理

### 使用配置文件

编辑 `custom/config/settings.conf`：

```bash
# 自定义配置项
MY_SERVER_IP="192.168.1.100"
MY_DATABASE_NAME="mydb"
MY_BACKUP_DIR="/backup"
```

在工具脚本中使用配置：

```bash
#!/bin/bash
# 加载配置
source "$(dirname "$0")/../config/settings.conf"

echo "服务器 IP：${MY_SERVER_IP}"
echo "数据库名：${MY_DATABASE_NAME}"
echo "备份目录：${MY_BACKUP_DIR}"
```

---

## 💡 高级技巧

### 技巧 1：使用颜色输出

```bash
# 定义颜色
RED='\033[31m'
GREEN='\033[32m'
YELLOW='\033[33m'
NC='\033[0m' # No Color

# 使用颜色
echo -e "${GREEN}成功！${NC}"
echo -e "${RED}错误！${NC}"
echo -e "${YELLOW}警告！${NC}"
```

### 技巧 2：添加进度条

```bash
# 简单进度条
for i in {1..10}; do
    echo -n "▓"
    sleep 0.1
done
echo " 完成！"
```

### 技巧 3：交互式菜单

```bash
# 子菜单示例
while true; do
    clear
    echo "子菜单"
    echo "1. 选项 1"
    echo "2. 选项 2"
    echo "0. 返回"
    read -p "请选择: " choice
    
    case $choice in
        1) echo "执行选项 1" ;;
        2) echo "执行选项 2" ;;
        0) break ;;
        *) echo "无效选择" ;;
    esac
    read -p "按回车继续..."
done
```

---

## 📚 参考资源

- **上游项目文档**：查看 `kejilion.sh` 了解更多功能
- **Bash 脚本教程**：https://www.gnu.org/software/bash/manual/
- **Shell 脚本最佳实践**：https://google.github.io/styleguide/shellguide.html

---

## ❓ 常见问题

### Q: 如何在 Windows 上开发？

A: 可以使用 WSL (Windows Subsystem for Linux) 或 Git Bash。

### Q: 工具脚本无法执行？

A: 检查是否赋予了执行权限：`chmod +x custom/tools/your_tool.sh`

### Q: 如何调试脚本？

A: 在脚本开头添加 `set -x` 启用调试模式，或使用 `bash -x` 运行。

### Q: 如何分享我的工具？

A: 将 `custom/` 目录提交到 Git 仓库，其他人可以直接使用。

---

## 🎉 下一步

1. ✅ 创建你的第一个工具
2. ✅ 自定义配置文件
3. ✅ 添加更多实用工具
4. ✅ 分享给团队使用

**祝你使用愉快！** 🚀
